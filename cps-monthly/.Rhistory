per_leisure_s
leisure07 <- qplot(month, leisure, data = cbs_data[cbs_data$year==2007,], geom = "line", colour = city, facets = . ~ year, main = "Total number of responders")
leisure07
leisure07 <- qplot(month, leisure, data = cbs_data[cbs_data$year %in% c(2006,2007),], geom = "line", colour = city, facets = . ~ year, main = "Total number of responders")
leisure07
leisure07 <- qplot(month, leisure, data = cbs_data[cbs_data$city == "Las Vegas",], geom = "line", colour = year, main = "Total number of responders")
leisure07
leisure07 <- qplot(month, leisure, data = cbs_data[cbs_data$city == "Las Vegas",], geom = "line", group = year, main = "Total number of responders")
leisure07
leisure07 <- qplot(month, leisure, data = cbs_data[cbs_data$city == "Las Vegas",], geom = "line", group = year, color = year, main = "Total number of responders")
leisure07
leisure07 <- qplot(month, leisure, data = cbs_data[cbs_data$city == "Las Vegas",], geom = "line", group = year, colour = year, main = "Total number of responders")
leisure07
num_acco <- qplot(year + month/12, accomodations, data = cbs_data, geom = "line", colour = city, facets = ~ destination, main = "Number of responders who work in the accomodations fields")
num_acco
per_acco <- qplot(year + month/12, accomodations/total, data = cbs_data, geom = "line", colour = city, facets = ~ destination, main = "Percent of responders who work in the accomodations fields")
per_acco
num_acco
per_acco
num_food
num_food <- qplot(year + month/12, food, data = cbs_data, geom = "line", colour = city, facets = ~ destination, main = "Number of responders who work in the accomodations fields")
num_food
num_acco
per_food <- qplot(year + month/12, food/total, data = cbs_data, geom = "line", colour = city, facets = ~ destination, main = "Percent of responders who work in the accomodations fields")
per_food
num_arts <- qplot(year + month/12, accomodations, data = cbs_data, geom = "line", colour = city, facets = ~ destination, main = "Number of responders who work in the arts fields")
num_arts
per_arts <- qplot(year + month/12, accomodations/total, data = cbs_data, geom = "line", colour = city, facets = ~ destination, main = "Percent of responders who work in the arts fields")
per_arts
cbs_data <- within(cbs_data, tourism <- leisure + arts + accomodations)
num_tourism <- qplot(year + month/12, tourism, data = cbs_data, geom = "line", colour = city, facets = ~ destination, main = "Number of responders who work in tourism fields")
num_tourism
per_tourism <- qplot(year + month/12, accomodations/total, data = cbs_data, geom = "line", colour = city, facets = ~ destination, main = "Percent of responders who work in tourism fields")
per_tourism
sea_change <- function (df) {#
	c(tourism_sc = max(tourism) - min(tourism),#
		leisure_sc = max(leisure) - min(leisure),#
		accomodations_sc = max(accomodations) - min(accomodations),#
		arts_sc = max(arts) - min(arts),#
		food_sc = max(food) - min(food),#
		gtcbsa = gtcbsa#
		)#
}#
#
library(plyr)
sc_data <- (cbs_data, .(year, city), sea_change)
sc_data <- ddply(cbs_data, .(year, city), sea_change)
head(cbs_data)
sea_change <- function (df) {#
	c(tourism_sc = with(df, max(tourism) - min(tourism)),#
		leisure_sc = with(df,max(leisure) - min(leisure)),#
		accomodations_sc = with(df,max(accomodations) - min(accomodations)),#
		arts_sc = with(df,max(arts) - min(arts)),#
		food_sc = with(df,max(food) - min(food)),#
		gtcbsa = with(df,gtcbsa)#
		)#
}
sc_data <- ddply(cbs_data, .(year, city), sea_change)
traceback()
sea_change <- function (df) {#
	c(tourism_sc = with(df, max(tourism) - min(tourism)))#
}
sc_data <- ddply(cbs_data, .(year, city), sea_change)
sc_data
sea_change <- function (df) {#
	c(tourism_sc = with(df, max(tourism) - min(tourism)), leisure_sc = with(df,max(leisure) - min(leisure)))#
}
sc_data <- ddply(cbs_data, .(year, city), sea_change)
sea_change <- function (df) {#
	c(tourism_sc = with(df, max(tourism) - min(tourism)), leisure_sc = with(df,max(leisure) - min(leisure)), accomodations_sc = with(df,max(accomodations) - min(accomodations)))#
}
sc_data <- ddply(cbs_data, .(year, city), sea_change)
sea_change <- function (df) {#
	c(tourism_sc = with(df, max(tourism) - min(tourism)), leisure_sc = with(df,max(leisure) - min(leisure)), accomodations_sc = with(df,max(accomodations) - min(accomodations)), 	arts_sc = with(df,max(arts) - min(arts)),#
		food_sc = with(df,max(food) - min(food)))#
}
sc_data <- ddply(cbs_data, .(year, city), sea_change)
try <- data.frame(total = c(1,2), tourism = c(5,6))
try
with(try, max(tourism/total))
with(try, max(tourism/total)- min(tourism/total))
sea_change <- function (df) {#
	c(tourism_sc = with(df, max(tourism) - min(tourism)), #
	leisure_sc = with(df,max(leisure) - min(leisure)), #
	accomodations_sc = with(df,max(accomodations) - min(accomodations)), 	#
	arts_sc = with(df,max(arts) - min(arts)),#
	food_sc = with(df,max(food) - min(food)),#
	tourism_sc_p = with(df, (max(tourism) - min(tourism))/max(tourism)), #
	leisure_sc_p = with(df,(max(leisure) - min(leisure))/max(leisure)), #
	accomodations_sc_p = with(df,(max(accomodations) - min(accomodations))/max(accomodations)), 	#
	arts_sc_p = with(df,(max(arts) - min(arts))/max(arts)),#
	food_sc_p = with(df,(max(food) - min(food))/max(food))#
	)#
}
sc_data <- ddply(cbs_data, .(year, city), sea_change)
q_tourism_sc <- qplot(year + month/12, tourism_sc, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal number change of tourism jobs")
q_tourism_sc
q_tourism_sc <- qplot(year, tourism_sc, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal number change of tourism jobs")
q_tourism_sc
head(sc_data)
str(sc_data)
q_tourism_sc_p <- qplot(year, tourism_sc_p, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal percent change of tourism jobs")
q_tourism_sc_p
sc_tourism <- qplot(year, tourism_sc, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Percent of responders who work in tourism fields")
sc_tourism
traceback()
sc_tourism <- qplot(year, tourism_sc, data = sc_data)
sc_tourism
sea_change <- function (df) {#
	c(tourism_sc = with(df, max(tourism) - min(tourism)), #
	leisure_sc = with(df,max(leisure) - min(leisure)), #
	accomodations_sc = with(df,max(accomodations) - min(accomodations)), 	#
	arts_sc = with(df,max(arts) - min(arts)),#
	food_sc = with(df,max(food) - min(food)),#
	tourism_sc_p = with(df, (max(tourism) - min(tourism))/max(tourism)), #
	leisure_sc_p = with(df,(max(leisure) - min(leisure))/max(leisure)), #
	accomodations_sc_p = with(df,(max(accomodations) - min(accomodations))/max(accomodations)), 	#
	arts_sc_p = with(df,(max(arts) - min(arts))/max(arts)),#
	food_sc_p = with(df,(max(food) - min(food))/max(food)),#
	destination = df$destination[1]#
	)#
}
sc_data <- ddply(cbs_data, .(year, city), sea_change)
sc_tourism <- qplot(year, tourism_sc, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal number change of tourism jobs")
sc_tourism
spc_tourism <- qplot(year, tourism_sc_p, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal percent change of tourism jobs")
spc_tourism
sc_leisure <- qplot(year, leisure_sc, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal number change of leisure jobs")
sc_leisure
spc_leisure <- qplot(year, leisure_sc_p, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal percent change of leisure jobs")
spc_leisure
sea_change <- function (df) {#
	c(tourism_sc = with(df, max(tourism) - min(tourism)), #
	leisure_sc = with(df,max(leisure) - min(leisure)), #
	accomodations_sc = with(df,max(accomodations) - min(accomodations)), 	#
	arts_sc = with(df,max(arts) - min(arts)),#
	food_sc = with(df,max(food) - min(food)),#
	tourism_sc_p = with(df, (max(tourism) - min(tourism))/mmin(tourism)), #
	leisure_sc_p = with(df,(max(leisure) - min(leisure))/min(leisure)), #
	accomodations_sc_p = with(df,(max(accomodations) - min(accomodations))/min(accomodations)), 	#
	arts_sc_p = with(df,(max(arts) - min(arts))/min(arts)),#
	food_sc_p = with(df,(max(food) - min(food))/min(food)),#
	destination = df$destination[1]#
	)#
}
sc_data <- ddply(cbs_data, .(year, city), sea_change)
sc_tourism <- qplot(year, tourism_sc, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal number change of tourism jobs")
sc_tourism
spc_tourism <- qplot(year, tourism_sc_p, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal percent change of tourism jobs")
spc_tourism
spc_leisure <- qplot(year, leisure_sc_p, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal percent change of leisure jobs")
spc_leisure
sc_acco <- qplot(year, accomodations_sc, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal number change of accomodations jobs")
sc_acco
str(sc_data)
sc_data[sc_data$city == "Amarillo",]
cbs_data[cbs_data$city == "Amarillo",]
cbs_data[cbs_data$gtcbsa == 11000,]
spc_acco <- qplot(year, accomodations_sc_p, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal percent change of accomodations jobs")
spc_acco
sc_food <- qplot(year, food_sc, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal number change of food and beverage jobs")
sc_food
sea_change <- function (df) {#
	c(tourism_sc = with(df, max(tourism) - min(tourism)), #
	leisure_sc = with(df,max(leisure) - min(leisure)), #
	accomodations_sc = with(df,max(accomodations) - min(accomodations)), 	#
	arts_sc = with(df,max(arts) - min(arts)),#
	food_sc = with(df,max(food) - min(food)),#
	tourism_sc_p = with(df, (max(tourism/total) - min(tourism/total))/min(tourism/total)), #
	leisure_sc_p = with(df,(max(leisure/total) - min(leisure/total))/min(leisure/total)), #
	accomodations_sc_p = with(df,(max(accomodations/total) - min(accomodations))/min(accomodations/total)), 	#
	arts_sc_p = with(df,(max(arts/total) - min(arts/total))/min(arts/total)),#
	food_sc_p = with(df,(max(food/total) - min(food/total))/min(food/total)),#
	destination = df$destination[1]#
	)#
}
sc_data <- ddply(cbs_data, .(year, city), sea_change)
sc_tourism <- qplot(year, tourism_sc, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal number change of tourism jobs")
sc_tourism
spc_tourism <- qplot(year, tourism_sc_p, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal percent change of tourism jobs")
spc_tourism
spc_leisure <- qplot(year, leisure_sc_p, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal percent change of leisure jobs")
spc_leisure
spc_acco <- qplot(year, accomodations_sc_p, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal percent change of accomodations jobs")
spc_acco
sea_change <- function (df) {#
	c(tourism_sc = with(df, max(tourism) - min(tourism)), #
	leisure_sc = with(df,max(leisure) - min(leisure)), #
	accomodations_sc = with(df,max(accomodations) - min(accomodations)), 	#
	arts_sc = with(df,max(arts) - min(arts)),#
	food_sc = with(df,max(food) - min(food)),#
	tourism_sc_p = with(df, (max(tourism/total) - min(tourism/total))/min(tourism/total)), #
	leisure_sc_p = with(df,(max(leisure/total) - min(leisure/total))/min(leisure/total)), #
	accomodations_sc_p = with(df,(max(accomodations/total) - min(accomodations/total))/min(accomodations/total)), 	arts_sc_p = with(df,(max(arts/total) - min(arts/total))/min(arts/total)),#
	food_sc_p = with(df,(max(food/total) - min(food/total))/min(food/total)),#
	destination = df$destination[1]#
	)#
}
sc_data <- ddply(cbs_data, .(year, city), sea_change)
spc_acco <- qplot(year, accomodations_sc_p, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal percent change of accomodations jobs")
spc_acco
spc_food <- qplot(year, food_sc_p, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal percent change of food and beverage jobs")
spc_food
dim(sc_data)
sc_data
spc_acco <- qplot(year, accomodations_sc_p, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal percent change of accomodations jobs")
spc_acco
min_acco <- qplot(year + month/12, accomodations/total, data = cbs_data, geom = "line", colour = city, facets = ~ destination, main = "Number of responders who work in the accomodations fields")
min_acco
sea_change <- function (df) {#
	c(tourism_sc = with(df, max(tourism) - min(tourism)), #
	leisure_sc = with(df,max(leisure) - min(leisure)), #
	accomodations_sc = with(df,max(accomodations) - min(accomodations)), 	#
	arts_sc = with(df,max(arts) - min(arts)),#
	food_sc = with(df,max(food) - min(food)),#
	tourism_sc_p = with(df, (max(tourism/total) - min(tourism/total))/min(tourism/total)), #
	leisure_sc_p = with(df,(max(leisure/total) - min(leisure/total))/min(leisure/total)), #
	accomodations_sc_p = with(df,(max(accomodations/total) - min(accomodations/total))/(min(accomodations/total) + .01)), 	arts_sc_p = with(df,(max(arts/total) - min(arts/total))/min(arts/total)),#
	food_sc_p = with(df,(max(food/total) - min(food/total))/min(food/total)),#
	destination = df$destination[1]#
	)#
}
sc_data <- ddply(cbs_data, .(year, city), sea_change)
spc_acco <- qplot(year, accomodations_sc_p, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal percent change of accomodations jobs")
spc_acco
sea_change <- function (df) {#
	c(tourism_sc = with(df, max(tourism) - min(tourism)), #
	leisure_sc = with(df,max(leisure) - min(leisure)), #
	accomodations_sc = with(df,max(accomodations) - min(accomodations)), 	#
	arts_sc = with(df,max(arts) - min(arts)),#
	food_sc = with(df,max(food) - min(food)),#
	tourism_sc_p = with(df, (max(tourism/total) - min(tourism/total))/min(tourism/total)), #
	leisure_sc_p = with(df,(max(leisure/total) - min(leisure/total))/min(leisure/total)), #
	accomodations_sc_p = with(df,(max(accomodations/total) - min(accomodations/total))/(min(accomodations/total) + .0001)), 	arts_sc_p = with(df,(max(arts/total) - min(arts/total))/min(arts/total)),#
	food_sc_p = with(df,(max(food/total) - min(food/total))/min(food/total)),#
	destination = df$destination[1]#
	)#
}
sc_data <- ddply(cbs_data, .(year, city), sea_change)
spc_acco <- qplot(year, accomodations_sc_p, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal percent change of accomodations jobs")
spc_acco
spc_food <- qplot(year, food_sc_p, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal percent change of food and beverage jobs")
spc_food
sc_arts <- qplot(year, arts_sc, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal number change of arts, entertainment and recreation jobs")
sc_arts
spc_arts <- qplot(year, arts_sc_p, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal percent change of arts, entertainment and recreation jobs")
spc_arts
sea_change <- function (df) {#
	c(tourism_sc = with(df, max(tourism) - min(tourism)), #
	leisure_sc = with(df,max(leisure) - min(leisure)), #
	accomodations_sc = with(df,max(accomodations) - min(accomodations)), 	#
	arts_sc = with(df,max(arts) - min(arts)),#
	food_sc = with(df,max(food) - min(food)),#
	tourism_sc_p = with(df, (max(tourism/(total-retired)) - min(tourism/(total-retired)))/min(tourism/(total-retired))), #
	leisure_sc_p = with(df,(max(leisure/(total-retired)) - min(leisure/(total-retired)))/min(leisure/(total-retired))), #
	accomodations_sc_p = with(df,(max(accomodations/(total-retired)) - min(accomodations/(total-retired)))/(min(accomodations/(total-retired)) + .0001)), 	#
	arts_sc_p = with(df,(max(arts/(total-retired)) - min(arts/(total-retired)))/min(arts/(total-retired))),#
	food_sc_p = with(df,(max(food/(total-retired)) - min(food/(total-retired)))/min(food/(total-retired))),#
	destination = df$destination[1]#
	)#
}
sc_data <- ddply(cbs_data, .(year, city), sea_change)
spc_tourism <- qplot(year, tourism_sc_p, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal percent change of tourism jobs")
spc_tourism
spc_leisure <- qplot(year, leisure_sc_p, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal percent change of leisure jobs")
spc_leisure
spc_acco <- qplot(year, accomodations_sc_p, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal percent change of accomodations jobs")
spc_acco
spc_food <- qplot(year, food_sc_p, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal percent change of food and beverage jobs")
spc_food
spc_arts <- qplot(year, arts_sc_p, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal percent change of arts, entertainment and recreation jobs")
spc_arts
per_tourism <- qplot(year + month/12, tourism/(total-retired), data = cbs_data, geom = "line", colour = city, facets = ~ destination, main = "Percent of responders who work in tourism fields")
per_tourism
quartz()
sc_tourism <- qplot(year, tourism_sc, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal number change of tourism jobs")
sc_tourism
spc_tourism <- qplot(year, tourism_sc_p, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal percent change of tourism jobs")
spc_tourism
sc_leisure <- qplot(year, leisure_sc, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal number change of leisure jobs")
sc_leisure
spc_leisure
spc_acco
sea_change <- function (df) {#
	c(tourism_sc = with(df, max(tourism) - min(tourism)), #
	leisure_sc = with(df,max(leisure) - min(leisure)), #
	accomodations_sc = with(df,max(accomodations) - min(accomodations)), 	#
	arts_sc = with(df,max(arts) - min(arts)),#
	food_sc = with(df,max(food) - min(food)),#
	tourism_sc_p = with(df, (max(tourism/(total-retired)) - min(tourism/(total-retired)))/min(tourism/(total-retired))), #
	leisure_sc_p = with(df,(max(leisure/(total-retired)) - min(leisure/(total-retired)))/min(leisure/(total-retired))), #
	accomodations_sc_p = with(df,(max(accomodations/(total-retired)) - min(accomodations/(total-retired)))/(max(accomodations/(total-retired)))), 	#
	arts_sc_p = with(df,(max(arts/(total-retired)) - min(arts/(total-retired)))/min(arts/(total-retired))),#
	food_sc_p = with(df,(max(food/(total-retired)) - min(food/(total-retired)))/min(food/(total-retired))),#
	destination = df$destination[1]#
	)#
}
sc_data <- ddply(cbs_data, .(year, city), sea_change)
spc_acco <- qplot(year, accomodations_sc_p, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal percent change of accomodations jobs")
spc_acco
source("2-clean.r")
dim(all)
summary(all)
qplot(year + quarter/4, vac, facets = ~ statefips)
qplot(year + quarter/4, vac, data = all, facets = ~ statefips)
length(unique(all$statefips))
unique(all$statefips)
length(unique(all$countyfips))
source("2-clean.r")
length(unique(all$statefips))
qplot(year + quarter/4, vac, data = all, facets = ~ statefips)
options(na.action = "na.exclude")
qplot(year + quarter/4, vac, data = all, type = "line", group=countyfips,facets = ~ statefips)
qplot(year + quarter/4, vac, data = all, geom = "line", group=countyfips, facets = ~ statefips)
qplot(year + quarter/4, vac, data = all, facets = ~ statefips)
ggsave("all_states.pdf")
qplot(year + quarter/4, vac, data = all, facets = ~ statefips, main = "Number of vacant addresses")
ggsave("all_states.pdf")
qplot(year + quarter/4, vac + nostat, data = all, facets = ~ statefips, main = "Number of vacant addresses")
quartz()
ggsave("all_states.pdf")
qplot(year + quarter/4, vac, data = all, facets = ~ statefips, main = "Number of vacant addresses")
qplot(year + quarter/4, vac + nostat, data = all, facets = ~ statefips, main = "Number of vacant addresses")#
ggsave("all_states.pdf")
florida <- all[all$statefips == 12,]
qplot(year + quarter/4, vac + nostat, data = florida, geom = "line", group=countyfips)
qplot(year + quarter/4, vac + nostat, data = florida, geom = "line", group=countyfips, main = "Vacancies in Florida Counties")
dim(florida)
dim(florida[florida$year == 2008,])
dim(florida[florida$year == 2008 && florida$countyfips < 20,])
dim(florida[florida$year == 2008 & florida$countyfips < 20,])
1
dim(florida[florida$year == 2008 & florida$countyfips < 10,])
dim(florida[florida$year == 2008 & florida$countyfips < 05,])
dim(florida[florida$year == 2008 & florida$countyfips == 05,])
head(florida)
dim(florida[florida$year == 2008 & florida$countyfips == 03,])
tail(florida)
qplot(year + quarter/4, vac + nostat, data = florida[florida$type == "all",], geom = "line", group=countyfips, main = "Vacancies in Florida Counties")
qplot(year + quarter/4, (vac + nostat)/total, data = florida[florida$type == "all",], geom = "line", group=countyfips, main = "Percent of Vacancies in Florida Counties")
qplot(year + quarter/4, vac, data = florida[florida$type == "all",], geom = "line", group=countyfips, main = "Vacancies in Florida Counties")
florida[florida$vac > 50000,]
qplot(year + quarter/4, vac/total, data = florida[florida$type == "all",], geom = "line", group=countyfips, main = "Percent of Vacancies in Florida Counties")
qplot(year + quarter/4, vac, data = florida[florida$type == "all",], geom = "line", group=countyfips, main = "Vacancies in Florida Counties")
quartz()
qplot(year + quarter/4, total, data = florida[florida$type == "all",], geom = "line", group=countyfips, main = "Total addresses in Florida Counties")
qplot(year + quarter/4, vac_days, data = florida[florida$type == "all",], geom = "line", group=countyfips, main = "Total addresses in Florida Counties")
qplot(year + quarter/4, vac_days, data = florida[florida$type == "all",], geom = "line", colour=countyfips, main = "Total addresses in Florida Counties")
qplot(year + quarter/4, vac, data = florida[florida$type == "all",], geom = "line", colour=countyfips, main = "Vacancies in Florida Counties")
florida[florida$vac > 45000,]
index <- function(x) x / x[1]#
florida <- ddply(florida, "msa", transform,#
 vac_ind = index(vac))
florida <- ddply(florida, .(countyfips), transform,#
 vac_ind = index(vac))
qplot(year + quarter/4, vac-vac_ind, data = florida[florida$type == "all",], geom = "line", colour=countyfips, main = "Vacancies in Florida Counties")
head(florida)
qplot(year + quarter/4, vac_ind, data = florida[florida$type == "all",], geom = "line", colour=countyfips, main = "Vacancies in Florida Counties")
florida[florida$vac_ind > 7.5,]
qplot(year + quarter/4, vac_days, data = florida[florida$type == "all",], geom = "line", colour=countyfips, main = "Total addresses in Florida Counties")
qplot(year + quarter/4, vac/total, data = florida[florida$type == "all",], geom = "line", group=countyfips, main = "Percent of Vacancies in Florida Counties")
qplot(year + quarter/4, vac, data = florida[florida$type == "residential",], geom = "line", group=countyfips, main = "Percent of Vacancies in Florida Counties")
qplot(year + quarter/4, vac, data = florida[florida$type == "residential",], geom = "line", colour=countyfips, main = "Percent of Vacancies in Florida Counties")
florida <- ddply(florida[florida$type = "all", .(countyfips), transform, vac_ind = index(vac))
florida <- ddply(florida[florida$type = "all",], .(countyfips), transform, vac_ind = index(vac))
florida <- ddply(florida[florida$type == "all",], .(countyfips), transform, vac_ind = index(vac))
florida_all <- ddply(florida[florida$type == "all",], .(countyfips), transform, vac_ind = index(vac))
florida <- all[all$statefips == 12,]
florida_res <- ddply(florida[florida$type == "residential",], .(countyfips), transform, vac_ind = index(vac))
qplot(year + quarter/4, vac_ind, data = florida_all, geom = "line", colour=countyfips, main = "Vacancies in Florida Counties")
qplot(year + quarter/4, vac, data = florida_res, geom = "line", colour=countyfips, main = "Percent of Vacancies in Florida Counties")
qplot(year + quarter/4, vac_ind, data = florida_res, geom = "line", colour=countyfips, main = "Percent of Vacancies in Florida Counties")
florida_res[florida_res$vac_ind > 6,]
qplot(year + quarter/4, vac_days, data = florida_res, geom = "line", colour=countyfips, main = "Percent of Vacancies in Florida Counties")
qplot(year + quarter/4, nostat, data = florida_all, geom = "line", colour=countyfips, main = "Vacancies in Florida Counties")
florida_all <- ddply(florida_all, .(countyfips), transform, nostat_ind = index(nostat))
qplot(year + quarter/4, nostat_ind, data = florida_all, geom = "line", colour=countyfips, main = "Vacancies in Florida Counties")
spc_tourism
num_tourism
ggsave("num_tourism.pdf")
spc_tourism
ggsave("spc_tourism.pdf")
spc_tourism
spc_tourism
spc_tourism <- qplot(year, tourism_sc_p, data = sc_data, geom = "line", colour = city, facets = ~ destination, main = "Seasonal percent change of tourism jobs")
spc_tourism
ggsave("spc_tourism.pdf")
spc_leisure
ggsave("spc_leisure.pdf")
qplot(year + quarter/4, vac + nostat, data = all, facets = ~ statefips, main = "Number of vacant addresses")
qplot(year + quarter/4, vac, data = florida[florida$type == "all",], geom = "line", colour=countyfips, main = "Vacancies in Florida Counties")
qplot(year + quarter/4, vac_days, data = florida[florida$type == "all",], geom = "line", colour=countyfips, main = "Total addresses in Florida Counties")
num_tourism
spc_tourism
